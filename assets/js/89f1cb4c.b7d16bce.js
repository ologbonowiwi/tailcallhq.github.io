"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6049],{1449:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>l});var i=n(5893),r=n(1151);const s={title:"REST on top of GraphQL",description:"Exposing REST endpoints on top of GraphQL via @rest directive."},a=void 0,o={id:"guides/rest",title:"REST on top of GraphQL",description:"Exposing REST endpoints on top of GraphQL via @rest directive.",source:"@site/docs/guides/rest.md",sourceDirName:"guides",slug:"/guides/rest",permalink:"/docs/guides/rest",draft:!1,unlisted:!1,editUrl:"https://github.com/tailcallhq/tailcallhq.github.io/tree/develop/docs/guides/rest.md",tags:[],version:"current",frontMatter:{title:"REST on top of GraphQL",description:"Exposing REST endpoints on top of GraphQL via @rest directive."},sidebar:"tutorialSidebar",previous:{title:"Playground",permalink:"/docs/guides/playground"},next:{title:"Scalars",permalink:"/docs/guides/scalar"}},d={},l=[{value:"Example",id:"example",level:2},{value:"Diagram showcasing how it works under hood",id:"diagram-showcasing-how-it-works-under-hood",level:4},{value:"Step 1: Define Your GraphQL Schema",id:"step-1-define-your-graphql-schema",level:3},{value:"Step 2: Create the Operation File",id:"step-2-create-the-operation-file",level:3},{value:"Response",id:"response",level:4}];function p(e){const t={code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"Every one needs orchestration for APIs but everyone can't move to GraphQL and there are valid reasons for not moving to GraphQL. This feature allows people to building the Tailcall DSL, leveraging the GraphQL capabilities at compile time and generating REST endpoint for actual use instead. REST is a well-known standard so works with traditional API Infrastructure - CDNs Gateways etc."}),"\n",(0,i.jsxs)(t.p,{children:["This guide will show you how to use the ",(0,i.jsx)(t.code,{children:"@rest"})," directive to create a RESTful service over a GraphQL layer"]}),"\n",(0,i.jsx)(t.h2,{id:"example",children:"Example"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Diagram",src:n(8179).Z+"",width:"1234",height:"673"})}),"\n",(0,i.jsx)(t.h4,{id:"diagram-showcasing-how-it-works-under-hood",children:"Diagram showcasing how it works under hood"}),"\n",(0,i.jsxs)(t.p,{children:["First, define the GraphQL types and queries. Use the ",(0,i.jsx)(t.code,{children:"@rest"})," directive to map GraphQL fields to REST API endpoints."]}),"\n",(0,i.jsx)(t.h3,{id:"step-1-define-your-graphql-schema",children:"Step 1: Define Your GraphQL Schema"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.code,{children:"schema.graphql"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-graphql",children:'schema\n  @server(graphiql: true)\n  @upstream(baseURL: "https://jsonplaceholder.typicode.com")\n  @link(type: Operation, src: "user-operation.graphql") {\n  query: Query\n}\n\ntype Query {\n  post(id: Int!): Post @http(path: "/posts/{{args.id}}")\n  user(id: Int!): User @http(path: "/users/{{args.id}}")\n}\n\ntype Post {\n  userId: Int!\n  id: Int\n  title: String\n  body: String\n  user: User @http(path: "/users/{{value.userId}}")\n}\n\ntype User {\n  id: Int!\n  name: String!\n  username: String!\n  email: String!\n  phone: String\n  website: String\n}\n'})}),"\n",(0,i.jsx)(t.h3,{id:"step-2-create-the-operation-file",children:"Step 2: Create the Operation File"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.code,{children:"user-operation.graphql"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-graphql",children:'query ($id: Int!) @rest(method: GET, path: "/post/$id") {\n  post(id: $id) {\n    id\n    title\n    body\n    user {\n      id\n      name\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(t.h4,{id:"response",children:"Response"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"REST Demo",src:n(4922).Z+"",width:"2992",height:"1688"})}),"\n",(0,i.jsxs)(t.p,{children:["In summary, by utilizing the ",(0,i.jsx)(t.code,{children:"@rest"})," directive, we've seamlessly integrated RESTful services with GraphQL, enhancing the traditional posts API to offer richer functionality without additional code. This approach combines the simplicity and ubiquity of REST with the modularity and flexibility of GraphQL, allowing for easy consumption from any HTTP client while leveraging GraphQL's powerful data querying capabilities."]})]})}function h(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},8179:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/rest-diagram-c86d6e8e36ae5a949ea987d8e83d9a48.svg"},4922:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/rest-a52c465c2068d2934afcdf32f01461b7.png"},1151:(e,t,n)=>{n.d(t,{Z:()=>o,a:()=>a});var i=n(7294);const r={},s=i.createContext(r);function a(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);